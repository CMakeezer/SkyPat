This paper introduces "pat", a C++ performance analysis toolkit on Linux.
"pat" combines perf_events and unit tests together and gives programmers the power of white-box performance analysis via writing typical test cases.

"pat" has power of white-box performance analysis by providing evaluation on performance and correctness of some pieces of code.
Tranditional performance analysis tools usually only provide black-box evaluation and function-level information.
"pat" provides ability to let users can measure precise running time of regions of program. The region of code can be defined by users by assert the macros. 
With these information, users can find out the popularity of every regions to let users know the bottleneck of their program.

Users can use "pat" to evaluate correctness and performance of their program by writing test-cases.
"pat" uses assertion to check the correctness of unit test. 
Users can set several fatal or non-fatal conditions in their test-cases.
With the help of perf_event of Linux kernel, "pat" can analyze running time of each region of the program without effect from scheduler. 
Meanwhile, "pat" also provides visualize environment to provide more friendly interface.
"pat" can help programs who need precise execution time, like system softwares, can get more run-time information.

"pat" has opened source under the new BSD license. 
"pat" has also been accepted by "bold" project as its performance analysis tool.
We hope we could have a chance to introduce "pat" on Linux Symposium.
